动态字体反爬

这个数据包是一个框架，里面没有字体编码

![1666858042539](C:\Users\konata\AppData\Roaming\Typora\typora-user-images\1666858042539.png)

![1666858078779](C:\Users\konata\AppData\Roaming\Typora\typora-user-images\1666858078779.png)

这个包里面有字体信息

![1666858119521](C:\Users\konata\AppData\Roaming\Typora\typora-user-images\1666858119521.png)

![1666858135292](C:\Users\konata\AppData\Roaming\Typora\typora-user-images\1666858135292.png)

```
{
    "woff": "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",
    "status": "1",
    "state": "success",
    "data": [
        {
            "value": "&#xc348 &#xb318 &#xe369 &#xc348 "
        },
        {
            "value": "&#xf642 &#xa418 &#xc348 &#xa936 "
        },
        {
            "value": "&#xf894 &#xc694 &#xc348 &#xa936 "
        },
        {
            "value": "&#xc348 &#xc694 &#xc348 &#xa468 "
        },
        {
            "value": "&#xb318 &#xa936 &#xa418 "
        },
        {
            "value": "&#xe369 &#xb318 &#xc694 &#xe369 "
        },
        {
            "value": "&#xc348 &#xa418 &#xb318 &#xe369 "
        },
        {
            "value": "&#xf894 &#xe369 &#xa936 &#xc694 "
        },
        {
            "value": "&#xa418 &#xf642 &#xa542 &#xa468 "
        },
        {
            "value": "&#xc348 &#xf642 &#xb318 &#xc348 "
        }
    ]
}
```

![1666858180917](C:\Users\konata\AppData\Roaming\Typora\typora-user-images\1666858180917.png)

观察页面并结合elements

![1666858231111](C:\Users\konata\AppData\Roaming\Typora\typora-user-images\1666858231111.png)



![1666858270686](C:\Users\konata\AppData\Roaming\Typora\typora-user-images\1666858270686.png)

胜点对应数字就是使用fonteditor字体，字体文件url就是

 https://match.yuanrenxue.com/api/match/7?page=2  这个数据包返回的woff对应的值，是base64编码的，直接解码然后wb保存为字体文件xx.woff

接下去就是ttfont读取字体文件 和 pil画出编码对应字形 以及第三方文字识别的过程

将网页中&#x....替换为识别出的文字，找出每一页最高分即对应名字，

最后找出五页中最高分即对应名字

注意每一页字体文件都不一样，要记得修改保存的文件名

